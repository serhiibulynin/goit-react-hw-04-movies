{"version":3,"sources":["services/api.js","components/searchBar/SearchBar.module.css","components/cast/Cast.module.css","components/reviews/Reviews.module.css","components/movieDetails/MovieDetails.module.css","images/default.jpg","components/cast/Cast.js","components/reviews/Reviews.js","routes/detailsRoutes.js","components/movieDetails/MovieDetails.js","pages/MovieDetailsPage.js"],"names":["axios","defaults","baseURL","API_KEY","fetchPopularMovies","a","get","then","res","data","results","Error","fetchMovieById","movieId","fetchMovieCast","cast","fetchMovieReviews","fetchMoviesByQuery","query","console","log","module","exports","Cast","state","actors","this","props","match","params","id","response","setState","length","className","styles","castList","map","profile_path","name","castItem","castImg","src","defaultImg","alt","castTitle","Component","Reviews","reviews","reviewList","review","reviewItem","reviewTitle","author","reviewText","content","detailsRoutes","withRouter","movie","wrapper","poster_path","original_title","movieImg","movieTitle","Number","parseInt","release_date","movieSubtitle","vote_average","movieOverview","overview","movieGenreList","genres","genre","detailsItem","movieLink","to","path","exact","component","MovieDetailsPage","handleGoBack","location","history","push","from","navRoutes","home","type","button","onClick"],"mappings":"iWAEAA,IAAMC,SAASC,QAAU,gCACzB,IAAMC,EAAU,mCAEHC,EAAkB,uCAAG,sBAAAC,EAAA,+EAEjBL,IACVM,IADU,qCACwBH,IAClCI,MAAK,SAACC,GAAD,OAASA,EAAIC,KAAKC,WAJI,8EAMxB,IAAIC,MAAJ,MANwB,wDAAH,qDAUlBC,EAAc,uCAAG,WAAOC,GAAP,SAAAR,EAAA,+EAEbL,IACVM,IADU,gBACGO,EADH,oBACsBV,IAChCI,MAAK,SAACC,GAAD,OAASA,EAAIC,QAJK,8EAMpB,IAAIE,MAAJ,MANoB,wDAAH,sDAUdG,EAAc,uCAAG,WAAOD,GAAP,SAAAR,EAAA,+EAEbL,IACVM,IADU,gBACGO,EADH,4BAC8BV,IACxCI,MAAK,SAACC,GAAD,OAASA,EAAIC,KAAKM,QAJA,8EAMpB,IAAIJ,MAAJ,MANoB,wDAAH,sDAUdK,EAAiB,uCAAG,WAAOH,GAAP,SAAAR,EAAA,+EAEhBL,IACVM,IADU,gBACGO,EADH,4BAC8BV,IACxCI,MAAK,SAACC,GAAD,OAASA,EAAIC,KAAKC,WAJG,8EAMvB,IAAIC,MAAJ,MANuB,wDAAH,sDAUjBM,EAAkB,uCAAG,WAAOC,GAAP,SAAAb,EAAA,+EAEjBL,IACVM,IADU,+BACkBH,EADlB,kBACmCe,IAC7CX,MAAK,SAACC,GAAD,OAASA,EAAIC,KAAKC,WAJI,wEAM9BS,QAAQC,IAAR,MAN8B,wDAAH,uD,mBC5C/BC,EAAOC,QAAU,CAAC,KAAO,wBAAwB,MAAQ,yBAAyB,OAAS,4B,mBCA3FD,EAAOC,QAAU,CAAC,SAAW,uBAAuB,SAAW,uBAAuB,QAAU,sBAAsB,UAAY,0B,mBCAlID,EAAOC,QAAU,CAAC,WAAa,4BAA4B,WAAa,4BAA4B,YAAc,6BAA6B,eAAiB,gCAAgC,aAAe,8BAA8B,WAAa,8B,mBCA1PD,EAAOC,QAAU,CAAC,QAAU,8BAA8B,SAAW,+BAA+B,WAAa,iCAAiC,cAAgB,oCAAoC,cAAgB,oCAAoC,eAAiB,qCAAqC,YAAc,kCAAkC,UAAY,kC,4ICD7V,MAA0B,oC,wBCkD1BC,E,4MA5CbC,MAAQ,CACNC,OAAQ,I,8FAGV,8BAAApB,EAAA,sEAEUQ,EAAUa,KAAKC,MAAMC,MAAMC,OAAOC,GAF5C,SAG2BhB,YAAeD,GAH1C,OAGUkB,EAHV,OAIIL,KAAKM,SAAS,CAAEP,OAAO,YAAKM,KAJhC,gDAMIZ,QAAQC,IAAR,cANJ,yD,0EAUA,WACE,IAAQK,EAAWC,KAAKF,MAAhBC,OAER,OADAN,QAAQC,IAAR,SAAsBK,GAEpB,8BACGA,EAAOQ,OACN,oBAAIC,UAAWC,IAAOC,SAAtB,SACGX,EAAOY,KAAI,gBAAGP,EAAH,EAAGA,GAAIQ,EAAP,EAAOA,aAAcC,EAArB,EAAqBA,KAArB,OACV,qBAAIL,UAAWC,IAAOK,SAAtB,UACE,qBACEN,UAAWC,IAAOM,QAClBC,IACEJ,EAAY,yCAC0BA,GAClCK,EAENC,IAAKL,IAEP,oBAAIL,UAAWC,IAAOU,UAAtB,SAAkCN,MAVCT,QAezC,oBAAII,UAAWC,IAAOU,UAAtB,mC,GAtCSC,a,iBCqCJC,E,4MArCbvB,MAAQ,CACNwB,QAAS,I,8FAGX,8BAAA3C,EAAA,sEAEUQ,EAAUa,KAAKC,MAAMC,MAAMC,OAAOC,GAF5C,SAG2Bd,YAAkBH,GAH7C,OAGUkB,EAHV,OAIIL,KAAKM,SAAS,CAAEgB,QAAQ,YAAKjB,KAJjC,gDAMIZ,QAAQC,IAAR,cANJ,yD,0EAUA,WACE,IAAQ4B,EAAYtB,KAAKF,MAAjBwB,QACR,OACE,8BACGA,EAAQf,OACP,oBAAIC,UAAWC,IAAOc,WAAtB,SACGD,EAAQX,KAAI,SAACa,GAAD,OACX,qBAAIhB,UAAWC,IAAOgB,WAAtB,UACE,oBAAIjB,UAAWC,IAAOiB,YAAtB,SAAoCF,EAAOG,SAC3C,mBAAGnB,UAAWC,IAAOmB,WAArB,SAAkCJ,EAAOK,YAFJL,EAAOG,aAOlD,oBAAInB,UAAWC,IAAOiB,YAAtB,6D,GA7BYN,a,+BCJTU,EACL,mBADKA,EAEF,sBCmDIC,eA9CM,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,MAAO7C,EAAc,EAAdA,QAC7B,OACE,qCACE,sBAAKqB,UAAWC,IAAOwB,QAAvB,UACE,qBACEjB,IAAG,iFAC0DgB,EAAME,aACnEhB,IAAKc,EAAMG,eACX3B,UAAWC,IAAO2B,WAEpB,gCACE,qBAAI5B,UAAWC,IAAO4B,WAAtB,UACGL,EAAMG,eADT,KAC2BG,OAAOC,SAASP,EAAMQ,cADjD,OAGA,oBAAGhC,UAAWC,IAAOgC,cAArB,yBACoC,GAArBT,EAAMU,aADrB,OAGA,oBAAIlC,UAAWC,IAAOgC,cAAtB,sBACA,mBAAGjC,UAAWC,IAAOkC,cAArB,SAAqCX,EAAMY,WAC3C,oBAAIpC,UAAWC,IAAOgC,cAAtB,oBACA,oBAAIjC,UAAWC,IAAOoC,eAAtB,SACGb,EAAMc,OAAOnC,KAAI,SAACoC,GAAD,OAChB,oBAAIvC,UAAWC,IAAOuC,YAAtB,SACGD,EAAMlC,MAD+BkC,EAAM3C,eAOtD,gCACE,mBAAGI,UAAWC,IAAOgC,cAArB,oCACA,cAAC,IAAD,CAAMjC,UAAWC,IAAOwC,UAAWC,GAAE,kBAAa/D,EAAb,YAArC,qBAGA,cAAC,IAAD,CAAMqB,UAAWC,IAAOwC,UAAWC,GAAE,kBAAa/D,EAAb,SAArC,qBAIF,eAAC,IAAD,WACE,cAAC,IAAD,CAAOgE,KAAMrB,EAAoBsB,OAAK,EAACC,UAAWxD,IAClD,cAAC,IAAD,CAAOsD,KAAMrB,EAAuBsB,OAAK,EAACC,UAAWhC,a,OCxCvDiC,E,4MACJxD,MAAQ,CACNkC,MAAO,I,EAYTuB,aAAe,WAAO,IAAD,EACnB,EAA8B,EAAKtD,MAA3BuD,EAAR,EAAQA,SAAR,EAAkBC,QAEVC,MAAa,OAARF,QAAQ,IAARA,GAAA,UAAAA,EAAU1D,aAAV,eAAiB6D,OAAQC,IAAUC,O,8FAblD,8BAAAlF,EAAA,sEAEUQ,EAAUa,KAAKC,MAAMC,MAAMC,OAAOhB,QAF5C,SAG2BD,YAAeC,GAH1C,OAGUkB,EAHV,OAIIL,KAAKM,SAAS,CAAE0B,MAAO3B,IAJ3B,gDAMIZ,QAAQC,IAAR,cANJ,yD,0EAgBA,WACE,IAAQsC,EAAUhC,KAAKF,MAAfkC,MACF7C,EAAUa,KAAKC,MAAMC,MAAMC,OAAOhB,SAAW,GAEnD,OACE,sBAAKqB,UAAU,YAAf,UACE,wBAAQsD,KAAMrD,IAAOsD,OAAQC,QAAShE,KAAKuD,aAA3C,qBAGCvB,EAAM5B,IAAM,cAAC,EAAD,CAAc4B,MAAOA,EAAO7C,QAASA,W,GA7B3BiC,aAmChBkC","file":"static/js/movie-details-page.884623f5.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\naxios.defaults.baseURL = \"https://api.themoviedb.org/3/\";\r\nconst API_KEY = \"a270cdf6cdb8b60438fe81cf5da8eacf\";\r\n\r\nexport const fetchPopularMovies = async () => {\r\n  try {\r\n    return await axios\r\n      .get(`trending/movie/day?api_key=${API_KEY}`)\r\n      .then((res) => res.data.results);\r\n  } catch (error) {\r\n    throw new Error(error);\r\n  }\r\n};\r\n\r\nexport const fetchMovieById = async (movieId) => {\r\n  try {\r\n    return await axios\r\n      .get(`movie/${movieId}?api_key=${API_KEY}`)\r\n      .then((res) => res.data);\r\n  } catch (error) {\r\n    throw new Error(error);\r\n  }\r\n};\r\n\r\nexport const fetchMovieCast = async (movieId) => {\r\n  try {\r\n    return await axios\r\n      .get(`movie/${movieId}/credits?api_key=${API_KEY}`)\r\n      .then((res) => res.data.cast);\r\n  } catch (error) {\r\n    throw new Error(error);\r\n  }\r\n};\r\n\r\nexport const fetchMovieReviews = async (movieId) => {\r\n  try {\r\n    return await axios\r\n      .get(`movie/${movieId}/reviews?api_key=${API_KEY}`)\r\n      .then((res) => res.data.results);\r\n  } catch (error) {\r\n    throw new Error(error);\r\n  }\r\n};\r\n\r\nexport const fetchMoviesByQuery = async (query) => {\r\n  try {\r\n    return await axios\r\n      .get(`search/movie?api_key=${API_KEY}&query=${query}`)\r\n      .then((res) => res.data.results);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"SearchBar_form__1sIts\",\"input\":\"SearchBar_input__1Dp2F\",\"button\":\"SearchBar_button__213Ep\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"castList\":\"Cast_castList__1lBDk\",\"castItem\":\"Cast_castItem__1qf7d\",\"castImg\":\"Cast_castImg__lTwBx\",\"castTitle\":\"Cast_castTitle__1AaWR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reviewList\":\"Reviews_reviewList__2YIKs\",\"reviewItem\":\"Reviews_reviewItem__29kgx\",\"reviewTitle\":\"Reviews_reviewTitle__4Z3Fm\",\"review__rating\":\"Reviews_review__rating__27tt2\",\"review__date\":\"Reviews_review__date__3AYxf\",\"reviewText\":\"Reviews_reviewText__2nYRU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"MovieDetails_wrapper__4Llfh\",\"movieImg\":\"MovieDetails_movieImg__2xua6\",\"movieTitle\":\"MovieDetails_movieTitle__1DVeb\",\"movieSubtitle\":\"MovieDetails_movieSubtitle__2L6tC\",\"movieOverview\":\"MovieDetails_movieOverview__1K0qT\",\"movieGenreList\":\"MovieDetails_movieGenreList__1Ee23\",\"detailsItem\":\"MovieDetails_detailsItem__3A6PK\",\"movieLink\":\"MovieDetails_movieLink__2stfD\"};","export default __webpack_public_path__ + \"static/media/default.2e01288c.jpg\";","import React, { Component } from \"react\";\r\nimport { fetchMovieCast } from \"../../services/api\";\r\nimport defaultImg from \"../../images/default.jpg\";\r\nimport styles from \"./Cast.module.css\";\r\n\r\nclass Cast extends Component {\r\n  state = {\r\n    actors: [],\r\n  };\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      const movieId = this.props.match.params.id;\r\n      const response = await fetchMovieCast(movieId);\r\n      this.setState({ actors: [...response] });\r\n    } catch (error) {\r\n      console.log(`error`, error);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { actors } = this.state;\r\n    console.log(`actors`, actors);\r\n    return (\r\n      <div>\r\n        {actors.length ? (\r\n          <ul className={styles.castList}>\r\n            {actors.map(({ id, profile_path, name }) => (\r\n              <li className={styles.castItem} key={id}>\r\n                <img\r\n                  className={styles.castImg}\r\n                  src={\r\n                    profile_path\r\n                      ? `https://image.tmdb.org/t/p/w300${profile_path}`\r\n                      : defaultImg\r\n                  }\r\n                  alt={name}\r\n                />\r\n                <h2 className={styles.castTitle}>{name}</h2>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        ) : (\r\n          <h2 className={styles.castTitle}>Page not found </h2>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Cast;\r\n","import React, { Component } from \"react\";\r\nimport { fetchMovieReviews } from \"../../services/api\";\r\nimport styles from \"./Reviews.module.css\";\r\n\r\nclass Reviews extends Component {\r\n  state = {\r\n    reviews: [],\r\n  };\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      const movieId = this.props.match.params.id;\r\n      const response = await fetchMovieReviews(movieId);\r\n      this.setState({ reviews: [...response] });\r\n    } catch (error) {\r\n      console.log(`error`, error);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { reviews } = this.state;\r\n    return (\r\n      <div>\r\n        {reviews.length ? (\r\n          <ul className={styles.reviewList}>\r\n            {reviews.map((review) => (\r\n              <li className={styles.reviewItem} key={review.author}>\r\n                <h2 className={styles.reviewTitle}>{review.author}</h2>\r\n                <p className={styles.reviewText}>{review.content}</p>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        ) : (\r\n          <h2 className={styles.reviewTitle}>\r\n            We don't have any reviews for this movie.\r\n          </h2>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Reviews;\r\n","export const detailsRoutes = {\r\n  cast: \"/movies/:id/cast\",\r\n  reviews: \"/movies/:id/reviews\",\r\n};\r\n","import React from \"react\";\r\nimport Cast from \"../cast/Cast\";\r\nimport Reviews from \"../reviews/Reviews\";\r\nimport { Link, Route, Switch, withRouter } from \"react-router-dom\";\r\nimport styles from \"./MovieDetails.module.css\";\r\nimport { detailsRoutes } from \"../../routes/detailsRoutes\";\r\n\r\nconst MovieDetails = ({ movie, movieId }) => {\r\n  return (\r\n    <>\r\n      <div className={styles.wrapper}>\r\n        <img\r\n          src={`\r\n                  https://www.themoviedb.org/t/p/w600_and_h900_bestv2${movie.poster_path}`}\r\n          alt={movie.original_title}\r\n          className={styles.movieImg}\r\n        />\r\n        <div>\r\n          <h2 className={styles.movieTitle}>\r\n            {movie.original_title} ({Number.parseInt(movie.release_date)})\r\n          </h2>\r\n          <p className={styles.movieSubtitle}>\r\n            User Score: {movie.vote_average * 10}%\r\n          </p>\r\n          <h3 className={styles.movieSubtitle}>Overview</h3>\r\n          <p className={styles.movieOverview}>{movie.overview}</p>\r\n          <h3 className={styles.movieSubtitle}>Genres</h3>\r\n          <ul className={styles.movieGenreList}>\r\n            {movie.genres.map((genre) => (\r\n              <li className={styles.detailsItem} key={genre.id}>\r\n                {genre.name}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <p className={styles.movieSubtitle}>Additional information</p>\r\n        <Link className={styles.movieLink} to={`/movies/${movieId}/reviews`}>\r\n          Reviews\r\n        </Link>\r\n        <Link className={styles.movieLink} to={`/movies/${movieId}/cast`}>\r\n          Cast\r\n        </Link>\r\n      </div>\r\n      <Switch>\r\n        <Route path={detailsRoutes.cast} exact component={Cast} />\r\n        <Route path={detailsRoutes.reviews} exact component={Reviews} />\r\n      </Switch>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withRouter(MovieDetails);\r\n","import React, { Component } from \"react\";\r\nimport styles from \"../components/searchBar/SearchBar.module.css\";\r\nimport { fetchMovieById } from \"../services/api\";\r\n\r\nimport MovieDetails from \"../components/movieDetails/MovieDetails\";\r\nimport { navRoutes } from \"../routes/navRoutes\";\r\n\r\nclass MovieDetailsPage extends Component {\r\n  state = {\r\n    movie: {},\r\n  };\r\n  async componentDidMount() {\r\n    try {\r\n      const movieId = this.props.match.params.movieId;\r\n      const response = await fetchMovieById(movieId);\r\n      this.setState({ movie: response });\r\n    } catch (error) {\r\n      console.log(`error`, error);\r\n    }\r\n  }\r\n\r\n  handleGoBack = () => {\r\n    const { location, history } = this.props;\r\n\r\n    history.push(location?.state?.from || navRoutes.home);\r\n  };\r\n\r\n  render() {\r\n    const { movie } = this.state;\r\n    const movieId = this.props.match.params.movieId || \"\";\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <button type={styles.button} onClick={this.handleGoBack}>\r\n          Go back\r\n        </button>\r\n        {movie.id && <MovieDetails movie={movie} movieId={movieId} />}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MovieDetailsPage;\r\n"],"sourceRoot":""}